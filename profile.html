<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>HastTag Bazaar</title>

	<!-- Favicon -->
	<link rel="icon" href="assets/img/hashtag-bazaar-favicon.png" type="image/png" sizes="32x32">

	<!-- Owl Slider -->
	<link rel="stylesheet" href="assets/css/owl.carousel.min.css">

	<!-- Custom css -->
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/style.css">
</head>
<body>

	<!-- //// Page Header -->  
	<header class="pt-15 pb-15 border-none">
		<div class="container d-flex justify-between align-center">

			<!-- Logo -->
			<a href="index.html" class="d-flex">
				<img src="assets/img/hashtagbazaar-logo.png" class="logo" alt="">
			</a>

			 

			<!-- Search -->
			<form class="search-box d-flex" action="product-list.html">
				<input type="search" placeholder="Search for products">
				<button><img src="assets/icon/search.png" alt=""></button>
			</form>

			<!-- Language -->
			<div class="dropdown city center">
				<div class="dropdown-trigger align-center">
					<!-- <img src="assets/icon/translate.svg"> -->
					<span class="pl-5">English</span>
					<img src="assets/icon/down-arrow.svg" class="down-arrow ml-10" alt="">
				</div>
				<div class="dropdown-item">
					<a href="#">Hindi</a>
					<a href="#">Bengali</a>
				</div>
			</div>

			<!-- Cart -->
			<a href="cart.html" class="cart position-relative circle-icon ml-15 center">
				<img src="assets/icon/shopping-cart-svg.svg" alt="">
				<span class="center">3</span>
			</a>      

			<!-- Login -->
			<a href="#" data-toggle="login-box"  class="btn-2 active popup-trigger p-15 radius-4 ml-25">Login&nbsp;/&nbsp;Sign&nbsp;Up</a>

		</div>
	</header>

	<main>
		<!-- //// Page Header -->  
		<section class="header">
			<div class="container align-center">
				<a href="my-account.html" class="bg-hover-icon center">
					<img src="assets/icon/left-arrow.svg" >
				</a>
				<h1 class="h2 m-0 p-15 pl-30"><small>My Profile</small></h1>
			</div>
		</section>

		<div class="container mt-40 mb-40 position-relative">
			<a href="#" data-toggle="edit-profile" class="edit-profile popup-trigger center p-15 bg-on-hover">
				<input type="image" src="assets/icon/edit.svg" alt="edit" width="20" height="20">
				<span class="ml-10">Edit Profile</span>
			</a>
			<div class="align-center mt-40">
				<img class="profile-img mr-15" src="https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500">            
	            <div class="justify-between w-100 align-center">
					<h2 class="text-left h2 mt-0 mb-5"><span>Abhishek Sharma</span></h2>
	            </div>
			</div>

			<div class="profile-info mt-20">
                <div>
                	<span class="font-weight-500">Name :</span>
                	<span>Abhishek Sharma</span>
            	</div>
                <div>
                	<span class="font-weight-500">Mobile :</span>
                	<span>7800154026</span>
            	</div>
                <div>
                	<span class="font-weight-500">Email :</span>
                	<span>saeed.ahmad@hashtagbazaar.com</span>
            	</div>
            </div>
		</div>
	</main>

	<!-- Footer -->
	<footer class="pt-20 mt-50">
		<div></div>
		<div class="container d-flex pt-50 pb-30 justify-between">
			<div class="flex-column">
				<h2 class="m-0 f-heading"><span>#</span>Bazaar</h2>
				<a href="#">About Us</a>
				<a href="#">Career</a>
				<a href="#">Contact Us</a>
				<a href="#">FAQ</a>
				<a href="#">Terms & Conditions</a>
			</div>
			<div class="flex-column">
				<h2 class="m-0 f-heading">ENGAGE</h2>
				<a href="#">Become a Seller</a>
				<a href="#">Become an Affiliate</a>
				<a href="#">Become an Investor</a>
			</div>
			<div class="flex-column">
				<h2 class="m-0 f-heading">Policy</h2>
				<a href="cancellation-policy.html">Cancellation</a>
				<a href="exchange-policy.html">Exchange & Return</a>
				<a href="refund-policy.html">Refund</a>
			</div>
			<div class="flex-column">
				<h2 class="m-0 f-heading">Follow Us</h2>
				<a target="_blank" href="https://www.youtube.com/channel/UCqKTl6tIqfYOU2Qnx0BLLSg/featured">YouTube</a>
				<a target="_blank" target="_blank" href="https://www.facebook.com/hashtagbazaarindia">Facebook</a>
				<a target="_blank" href="https://twitter.com/HashtagBazaar">Twitter</a>
				<a target="_blank" href="https://www.instagram.com/hashtag.bazaar">Instagram</a>
			</div>
			<div class="flex-column">
				<h2 class="m-0 f-heading">Customer</h2>
				<a href="my-account.html">My Account</a>
				<a href="orders.html">Order</a>
				<a href="cart.html">Cart</a>
				<a href="orders.html">Refund Status</a>
			</div>
		</div>
		<div class="container">
			<div class="copyright pb-50 d-flex justify-between align-center pt-30">
				<div class="d-flex align-center">Copyright &copy; 2020 - 2021&nbsp;<a href="#" class="text-primary  font-weight-500">HashTag Bazaar</a>. All Rights Reserved</div>
				<img src="https://s1.nordcdn.com/nordvpn/media/1.855.0/images/global/logos/card/credit-cards.svg" alt="">
			</div>
		</div>
	</footer>

	<div id="edit-profile" class="popup-box popup-center">
		<div class="popup-overlayer close"></div>
		<div class="popup-content">
			<h2 class="mb-15 popup-header m-25 mb-15">Edit Profile</h2>

			<div class="popup-body">
				<div class="profile-photo-div profile-img" id="profile-photo-div">
				  <div class="profile-img-div" id="profile-img-div" style="height: 100px;">
				    <div id="loader"></div><img id="profile-img" src="https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500">
				    <input id="x-position" type="range" name="x-position" value="0" min="0">
				    <input id="y-position" type="range" name="y-position" value="0" min="0">
				  </div>
				  <div class="profile-buttons-div">
				    <div class="profile-img-input" id="profile-img-input">
				      <label class="center text-center cursor-pointer" id="change-photo-label" for="change-photo">Change</label>
				      <input id="change-photo" name="change-photo" type="file" style="display: none;" accept="image/*">
				    </div>
				    <div class="profile-img-confirm" id="profile-img-confirm" style="display: none;">
				      <div class="button p-10 half green" id="save-img"><img src="assets/icon/right-sign.svg"></div>
				      <div class="button p-10 half red" id="cancel-img"><img src="assets/icon/wrong-sign.svg"></div>
				    </div>
				  </div>
				</div>

				<div class="error" id="error">min sizes 400*400px</div>
				<canvas id="croppedPhoto" width="400" height="400"></canvas>


				<button class="close close-btn">
					<img src="assets/icon/close.svg" class="close-icon" alt="">
				</button>

				<div class="form-group mt-10">
					<label for="p-name">Name</label>
					<div class="input-box n-t position-relative"><input type="text" id="p-name" class="form-control" value="Abhishek Sharma"></div>
				</div>

				<div class="form-group mt-10">
					<label for="p-mobile">Mobile</label>
					<div class="input-box n-t position-relative"><input type="number" id="p-mobile" class="form-control" value="7800154026"></div>
				</div>

				<div class="form-group mt-10">
					<label for="p-email">Email</label>
					<div class="input-box n-t position-relative"><input type="email" id="p-email" class="form-control" value="saeed.ahmad@hashtagbazaar.com"></div>
				</div>
			</div>

			<button class="btn p-15 pl-25 pr-25 mt-30 close popup-footer m-25 mt-15">Update</button>
		</div>
	</div>


	<!-- Jquery CDN -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

	<!-- Owl Slider -->
	<script src="assets/js/owl.carousel.min.js"></script>

	<!-- Custom Js -->
	<script src="assets/js/function.js"></script>
	<script>
		
// Profile Change
var $profileImgDiv = document.getElementById("profile-img-div"),
    $profileImg = document.getElementById("profile-img"),
    $changePhoto = document.getElementById("change-photo"),
    $xPosition = document.getElementById("x-position"),
    $yPosition = document.getElementById("y-position"),
    $saveImg = document.getElementById("save-img"),
    $loader = document.getElementById("loader"),
    $cancelImg = document.getElementById("cancel-img"),
    $profileImgInput = document
      .getElementById("profile-img-input"),
    $profileImgConfirm = document
      .getElementById("profile-img-confirm"),
    $error = document.getElementById("error");

var currentProfileImg = "",
    profileImgDivW = getSizes($profileImgDiv).elW,
    NewImgNatWidth = 0,
    NewImgNatHeight = 0,
    NewImgNatRatio = 0,
    NewImgWidth = 0,
    NewImgHeight = 0,
    NewImgRatio = 0,
    xCut = 0,
    yCut = 0;

makeSquared($profileImgDiv);

$changePhoto.addEventListener("change", function() {
  currentProfileImg = $profileImg.src;
  showPreview(this, $profileImg);
  $loader.style.width = "100%";
  $profileImgInput.style.display = "none";
  $profileImgConfirm.style.display = "flex";
  $error.style.display = "none";
});

$xPosition.addEventListener("input", function() {
  $profileImg.style.left = -this.value + "px";
  xCut = this.value;
  yCut = 0;
});

$yPosition.addEventListener("input", function() {
  $profileImg.style.top = -this.value + "px";
  yCut = this.value;
  xCut = 0;
});

$saveImg.addEventListener("click", function() {
  cropImg($profileImg);
  resetAll(true);
});

$cancelImg.addEventListener("click", function() {
  resetAll(false);
});

window.addEventListener("resize", function() {
  makeSquared($profileImgDiv);
  profileImgDivW = getSizes($profileImgDiv).elW;
});

function makeSquared(el) {
  var elW = el.clientWidth;
  el.style.height = elW + "px";
}

function showPreview(input, el) {
  var reader = new FileReader();
  reader.readAsDataURL(input.files[0]);
  if (input.files && input.files[0]) {
    reader.onload = function(e) {
      setTimeout(function() {
        el.src = e.target.result;
      }, 300);

      var poll = setInterval(function() {
        if (el.naturalWidth && el.src != currentProfileImg) {
          clearInterval(poll);
          setNewImgSizes(el);
          setTimeout(function() {
            $loader.style.width = "0%";
            $profileImg.style.opacity = "1";
          }, 1000);
        }
      }, 100);
    };
  } else {
    return;
  }
}

function setNewImgSizes(el) {
  if (getNatSizes(el).elR > 1) {
    el.style.width = "auto";
    el.style.height = "100%";
    newImgWidth = getSizes(el).elW;
    $xPosition.style.display = "block";
    $yPosition.style.display = "none";
    $xPosition.max = newImgWidth - profileImgDivW;
  } else if (getNatSizes(el).elR < 1) {
    el.style.width = "100%";
    el.style.height = "auto";
    newImgHeight = getSizes(el).elH;
    $xPosition.style.display = "none";
    $yPosition.style.display = "block";
    $yPosition.max = newImgHeight - profileImgDivW;
  } else if (getNatSizes(el).elR == 1) {
    el.style.width = "100%";
    el.style.height = "100%";
    $xPosition.style.display = "none";
    $yPosition.style.display = "none";
  }
}

function getNatSizes(el) {
  var elW = el.naturalWidth,
    elH = el.naturalHeight,
    elR = elW / elH;
  return {
    elW: elW,
    elH: elH,
    elR: elR
  };
}

function getSizes(el) {
  var elW = el.clientWidth,
    elH = el.clientHeight,
    elR = elW / elH;
  return {
    elW: elW,
    elH: elH,
    elR: elR
  };
}

function cropImg(el) {
  var natClientImgRatio = getNatSizes(el).elW / getSizes(el).elW;
  (myCanvas = document.getElementById("croppedPhoto")),
    (ctx = myCanvas.getContext("2d"));
  ctx.fillStyle = "#ffffff";
  ctx.fillRect(0, 0, 400, 400);
  ctx.drawImage(
    el,
    xCut * natClientImgRatio,
    yCut * natClientImgRatio,
    profileImgDivW * natClientImgRatio,
    profileImgDivW * natClientImgRatio,
    0,
    0,
    400,
    400
  );
  var newProfileImgUrl = myCanvas.toDataURL("image/jpeg");
  $profileImg.src = newProfileImgUrl;
}

function resetAll(confirm) {
  if (!confirm) {
    $profileImg.src = currentProfileImg;
  }
  $changePhoto.value = "";
  $profileImgInput.style.display = "block";
  $profileImgConfirm.style.display = "none";
  $profileImg.style.left = "0";
  $profileImg.style.top = "0";
  $profileImg.style.width = "100%";
  $profileImg.style.height = "100%";
  $xPosition.style.display = "none";
  $yPosition.style.display = "none";
  $xPosition.value = "0";
  $yPosition.value = "0";
  xCut = "0";
  yCut = "0";
}

function checkMinSizes(el) {
  if (getNatSizes(el).elW > 400 && getNatSizes(el).elH > 400) {
    return true;
  } else {
    return false;
  }
}

	</script>

</body>
</html>